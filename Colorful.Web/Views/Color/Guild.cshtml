@*
    For more information on enabling MVC for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860
*@
@model Colorful.Web.Models.GuildColorViewModel

<style>
    img {
        border-radius: 15%;
    }

    form > * {
        margin: 1em;
    }
</style>

<div class="col-12">
    <div class="row justify-content-center" style="padding-top:2em; padding-bottom:1em;">
        <h1>Server Info</h1>
    </div>
    <div class="row justify-content-center" style="padding-top:2em; padding-bottom:1em;">
        <div>
            <div class="d-flex justify-content-center">
                <img src="@Model.Guild.IconUrl" />
            </div>
            <div>
                <span>@Model.Guild.Name</span>
            </div>
        </div>
    </div>
    @{
        bool noRole = Model.Role == null;
        string clr = string.IsNullOrEmpty(Model.ForceColor) ? (noRole ? "#FFFFFF" : Model.Role.Name) : Model.ForceColor;
    }
    <div class="row justify-content-center" style="height:200px;">
        <div style="display: grid; grid-template-rows: 30% 60%; grid-template-columns: 100%; width:100%">
            <div style="background-color:@clr; border: 1px solid black; margin:0.5em;" class="d-flex justify-content-center align-items-center">
                <span style="color:@clr; filter:invert(100%); -webkit-filter:invert(100%);">
                    @if (string.IsNullOrEmpty(Model.ForceColor) && noRole) {
                        <span>No Role</span>
                    } else {
                        <span>Current Color</span>
                    }
                </span>
            </div>
            <form class="d-flex justify-content-center align-items-center" asp-action="UpdateColor">
                    <label for="colorPicker">Choose a Color</label>
                    <input type="hidden" asp-for="GuildId" value="@Model.Guild.Id" />
                    <input type="hidden" asp-for="UserId" value="@Model.User.Id" />
                    <input type="color" id="colorPicker" asp-for="NewColor" style="width:30%; height:60%;" />
                    <input type="submit" />
            </form>
        </div>
    </div>

</div>


